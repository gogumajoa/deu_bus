<!DOCTYPE html>
<html>
<head>
  <title>Notification API 예제</title>
</head>
<body>

<button id="show-notification">알림 보기</button>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const showNotificationButton = document.getElementById('show-notification');
  
  showNotificationButton.addEventListener('click', function () {
    // 사용자 동의 확인
    if (!('Notification' in window)) {
      alert('알림이 지원되지 않는 브라우저입니다.');
    } else if (Notification.permission === 'granted') {
      // 이미 알림 권한이 있는 경우
      showNotification();
    } else if (Notification.permission !== 'denied') {
      // 알림 권한 요청
      Notification.requestPermission().then(function (permission) {
        if (permission === 'granted') {
          showNotification();
        }
      });
    }
  });
  
  function showNotification() {
    const options = {
      body: '이것은 알림 본문입니다.',
      icon: 'clock.JPG' // 알림 아이콘 경로
    };
    
    const notification = new Notification('알림 제목', options);
    
    notification.addEventListener('click', function () {
      // 알림이 클릭되었을 때 실행할 동작 정의
      window.location.href = 'https://www.example.com';
    });
  }
});
</script>

</body>
</html>
